
	Dozvoljena je deklaracija funkcije s neodređenim varijablama
--------------------------------------------------------------------------------------------------------
	Potrebno je uključiti datoteku #include<stdarg.h>
--------------------------------------------------------------------------------------------------------
	1. Osnovna ideja
--------------------------------------------------------------------------------------------------------
	Funkcija ima
	a) Fiksni dio parametara
	b) Variadični dio parametara (.....)
--------------------------------------------------------------------------------------------------------
	return_type func(type1 a, type2 b, .....);
--------------------------------------------------------------------------------------------------------
	Mora postojati barem jedan fiksni parametar
	da bi se znalo gdje varijabilni dio počinje
--------------------------------------------------------------------------------------------------------	
	2. <stdarg.h>
--------------------------------------------------------------------------------------------------------
	Makro iz te datoteke
--------------------------------------------------------------------------------------------------------
	1. va_list()
	2. va_start()
	3. va_arg()
	4. va_end()
--------------------------------------------------------------------------------------------------------
	3. Primjer korištenja
--------------------------------------------------------------------------------------------------------
	#include<stdio.h>
	#include<stdarg.h>
	int sum(int count, ...){
		va_list args; 							// Lista za spremanje arugmenata
		int total = 0;
		va_start(args, count); 					// U listi args, spremi ovoliko argumenata
		for(int i = 0;i< count; i++){ 			// Idi od 0 do count (broj varijabilnih)
			total += va_args(args, int);		// va_args -> uzmi iz args liste sljedeći int
		}
		va_end(args);							// Obriši listu args
		return total;
	}
--------------------------------------------------------------------------------------------------------
	Mentalni model varijadičnih
--------------------------------------------------------------------------------------------------------
	3.1 va_list
--------------------------------------------------------------------------------------------------------
	Kao pokazivač, koji pokazuje na već alociranu memoriju na stacku ili registrima, koji će putovati
	Argumenti su već tu, va_list je mehanizam za pristup
--------------------------------------------------------------------------------------------------------
	3.2 va_start
--------------------------------------------------------------------------------------------------------
	Stavi pokazivač na prvi varijabilni argument, prvi nakon zadnjeg fiksnog argumenta
	Kao postavljanje iterator varijable, za čitanje na nekoj memorijskoj lokaciji
--------------------------------------------------------------------------------------------------------
	3.3 va_arg
--------------------------------------------------------------------------------------------------------
	Uzmi trenuti argument i pomakni pokazivač za jedno mjesto, poput array[i++] ali moraš mu reći
	koji tipa da prima
--------------------------------------------------------------------------------------------------------
	3.4 va_end
--------------------------------------------------------------------------------------------------------
	Čišćenje va_list, na nekim arhitekturama, neće raditi ništa, na nekima je obavezna
--------------------------------------------------------------------------------------------------------
	4. Varijadične konceptualno
--------------------------------------------------------------------------------------------------------
	4.1 Function call: sum(3, 10, 20, 30);
--------------------------------------------------------------------------------------------------------
		stack layout (conceptual)
		[count = 3] [arg1 = 10] [arg2 = 20] [arg3 = 30]
			↑			↑
		Fixed			Variable arguments start here
		parameter
--------------------------------------------------------------------------------------------------------
	4.2 Općenito
--------------------------------------------------------------------------------------------------------
	va_list args ------> deklariraj iterator
--------------------------------------------------------------------------------------------------------
	va_start(args, count) ------> pomakni iterator na mjesto prvog argumenta args1
--------------------------------------------------------------------------------------------------------
	int x = va_args(args, int) -------> učitaj 10, pomakni iterator na arg2, on je int tipa
--------------------------------------------------------------------------------------------------------
	int y = va_args(args, int) -------> učitaj 20, pomakni iterator na arg3, on je int tipa
--------------------------------------------------------------------------------------------------------
	int z = va_args(args, int) -------> učitaj 30, pomakni iterator na arg4, on je int tipa
--------------------------------------------------------------------------------------------------------
	va_end(args) -----------> očisti iterator
--------------------------------------------------------------------------------------------------------
	5. Automatska promocija argumenata
--------------------------------------------------------------------------------------------------------
	Svi varijadični argumenti prolaze automatsku promociju
--------------------------------------------------------------------------------------------------------
	char -----> int
	short ----> int
	float ----> double
--------------------------------------------------------------------------------------------------------
	6. Najčešće greške
--------------------------------------------------------------------------------------------------------
	Zaboravljen va_end
--------------------------------------------------------------------------------------------------------
	Pogrešan tip u va_arg
--------------------------------------------------------------------------------------------------------
	Čitanje više argumenata nego što postoji
--------------------------------------------------------------------------------------------------------
	Oslanjanje na sizeof
--------------------------------------------------------------------------------------------------------
	Pretpostavka da su svi na stacku
--------------------------------------------------------------------------------------------------------
	7. Opasnosti varijadičnih funkcija
--------------------------------------------------------------------------------------------------------
	Nema type sigurnosti
--------------------------------------------------------------------------------------------------------
	Compiler ne može provjeriti poziv
--------------------------------------------------------------------------------------------------------
	Greške se otkrivaju u run-timeu
--------------------------------------------------------------------------------------------------------
	Koristiti: Rijekto, dobro dokumentirati i preferirati varijante s va_list API
--------------------------------------------------------------------------------------------------------

